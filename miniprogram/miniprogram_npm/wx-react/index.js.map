{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA","file":"index.js","sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.initReactive=exports.reactive=void 0;var parentSymbol=Symbol.for(\"__parent__\"),dataRef=\"data\";function isObject(e){return!!e&&(\"object\"==typeof e&&!isArray(e))}function isArray(e){return!!e&&e instanceof Array}function _getParent(e){return Reflect.has(e,parentSymbol)?_getParent(Reflect.get(e,parentSymbol)):e}function _handleReactive(r,n,e){n=_getParent(n);var t=Reflect.get(r,dataRef);Reflect.ownKeys(t).filter(function(e){return Reflect.get(t,e)===n}).forEach(function(e){var t;r.setData(((t={})[e]=n,t))})}function _reactive(a,e,t){!Reflect.has(e,parentSymbol)&&t&&Reflect.defineProperty(e,parentSymbol,{enumerable:!0,configurable:!0,value:t});var c=new Proxy(e,{get:function(e,t,r){r=Reflect.get(e,t,r);return!isObject(r)&&!isArray(r)||Reflect.has(r,parentSymbol)||t===parentSymbol||Reflect.set(e,t,_reactive(a,r,c)),r},set:function(e,t,r,n){r=Reflect.set(e,t,r,n);return(r&&e instanceof Array&&\"length\"===t||r&&!(e instanceof Array))&&_handleReactive(a,n,c),r},defineProperty:function(e,t,r){return Reflect.defineProperty(e,t,r)},deleteProperty:function(e,t){t=Reflect.deleteProperty(e,t);return!t||e instanceof Array||_handleReactive(a,c,c),t}});return c}function reactive(e,t){if(\"object\"!=typeof e||null===e)throw new Error(\"thisArg必须为页面或组件this对象\");if(\"object\"!=typeof t||null===t)throw new Error(\"target必须是一个对象或数组\");return _reactive(e,t)}function initReactive(n){Reflect.has(n,dataRef)&&Reflect.ownKeys(Reflect.get(n,dataRef)).forEach(function(r){Reflect.has(n,r)&&Reflect.deleteProperty(n,r),Reflect.defineProperty(n,r,{get:function(){return Reflect.get(Reflect.get(n,dataRef),r)},set:function(e){var t;e!==Reflect.get(Reflect.get(n,dataRef),r)&&n.setData(((t={})[r]=e,t))}})})}exports.reactive=reactive,exports.initReactive=initReactive;"]}